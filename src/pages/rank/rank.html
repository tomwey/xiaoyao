<!--
  Generated template for the RankPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="wechat">
    <ion-title>排行</ion-title>
  </ion-navbar>

  <ion-toolbar color="white">
      <ion-segment mode="md" [(ngModel)]="rankType" 
        
        (ionChange)="segmentChanged($event)">
          <ion-segment-button value="0">
            贡献群奖
          </ion-segment-button>
          <ion-segment-button value="1">
            计分约局
          </ion-segment-button>
        </ion-segment>
        
        <ion-item class="custom-item fixed-item-2" *ngIf="!!currentUser">
          <span item-left class="rank">1</span>
          <ion-avatar item-left>
            <img [src]="currentUser?.headurl">
          </ion-avatar>
          <h2>{{currentUser?.nick}}</h2>
          <p class="money">{{rankType === '0' ? '贡献群奖:' + currentUser?.devotevalue :
             '约局群奖:' + currentUser?.playcount}}</p>
        </ion-item>
  </ion-toolbar>
  
</ion-header>

<ion-content>
  <ion-list>
      <ion-item tappable (click)="openDetail(item);" class="custom-item" *ngFor="let item of members; let i = index;">
          <span item-left class="rank">{{i + 1}}</span>
          <ion-avatar item-left>
            <img [src]="item.headurl">
          </ion-avatar>
          <h2>{{item.nick}}</h2>
          <p class="money">{{rankType === '0' ? '贡献群奖:' + item.devotevalue :
              '约局群奖:' + item.playcount}}</p>
        </ion-item>
  </ion-list>
</ion-content>
